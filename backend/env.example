# ===========================================
# 智能图片搜索系统 - 后端环境配置模板
# ===========================================
# 复制此文件为 .env 并根据需要修改配置

# ===========================================
# 服务器配置
# ===========================================
# 服务器端口
PORT=3001

# 运行环境 (development, production, test)
NODE_ENV=development

# 服务器主机地址
HOST=localhost

# ===========================================
# Milvus向量数据库配置
# ===========================================
# Milvus服务器地址
MILVUS_HOST=localhost

# Milvus服务器端口
MILVUS_PORT=19530

# 是否使用SSL连接
MILVUS_SSL=false

# Milvus超级管理员用户名
MILVUS_ADMIN_USER=root

# Milvus超级管理员密码
MILVUS_ADMIN_PASSWORD=Milvus

# ===========================================
# 文件上传配置
# ===========================================
# 上传文件存储目录
UPLOAD_DIR=./uploads

# 单个文件最大大小 (字节) - 10MB
MAX_FILE_SIZE=10485760

# 允许的文件扩展名 (逗号分隔)
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,webp

# 最大上传文件数量
MAX_FILES=10

# ===========================================
# AI模型配置
# ===========================================
# 模型缓存目录
MODEL_CACHE_DIR=./.cache

# 使用的AI模型名称
MODEL_NAME=Marqo/marqo-fashionSigLIP

# 向量维度 (模型固定维度)
VECTOR_DIMENSION=768

# ===========================================
# 向量数据库配置
# ===========================================
# 集合名称
COLLECTION_NAME=fashion_images

# 索引类型 (HNSW, IVF_FLAT, IVF_SQ8, IVF_PQ)
INDEX_TYPE=HNSW

# 距离度量类型 (L2, IP, COSINE)
METRIC_TYPE=L2

# HNSW索引参数
# M: 每个节点的最大连接数
HNSW_M=16

# efConstruction: 构建时的搜索范围
HNSW_EF_CONSTRUCTION=200

# ===========================================
# 日志配置
# ===========================================
# 日志级别 (error, warn, info, debug)
LOG_LEVEL=info

# 是否启用详细日志
VERBOSE_LOGGING=false

# ===========================================
# 安全配置
# ===========================================
# JWT密钥 (用于API认证，如果需要)
JWT_SECRET=your_jwt_secret_key_here

# CORS允许的源
CORS_ORIGIN=http://localhost:5173

# ===========================================
# 性能配置
# ===========================================
# 连接超时时间 (毫秒)
CONNECTION_TIMEOUT=10000

# 请求超时时间 (毫秒)
REQUEST_TIMEOUT=30000

# 最大并发请求数
MAX_CONCURRENT_REQUESTS=100

# ===========================================
# 开发配置
# ===========================================
# 是否启用热重载
HOT_RELOAD=true

# 是否启用调试模式
DEBUG_MODE=true

# 是否启用API文档
ENABLE_API_DOCS=true

# ===========================================
# 生产环境配置示例
# ===========================================
# 生产环境时，请修改以下配置：

# NODE_ENV=production
# LOG_LEVEL=warn
# VERBOSE_LOGGING=false
# DEBUG_MODE=false
# HOT_RELOAD=false

# 生产环境数据库配置示例：
# MILVUS_HOST=your_production_milvus_host
# MILVUS_PORT=19530
# MILVUS_SSL=true
# MILVUS_ADMIN_USER=your_production_admin
# MILVUS_ADMIN_PASSWORD=your_secure_password

# 生产环境安全配置：
# JWT_SECRET=your_very_secure_jwt_secret_key
# CORS_ORIGIN=https://yourdomain.com
